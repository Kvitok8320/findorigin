# Настройка OpenAI API для AI сравнения

## Шаг 1: Получение API ключа OpenAI

1. Перейдите на **https://platform.openai.com/api-keys**
2. Войдите в свой аккаунт OpenAI (или создайте новый)
3. Нажмите **"Create new secret key"** (Создать новый секретный ключ)
4. Введите название (например: "FindOrigin Bot")
5. Скопируйте ключ (он будет вида: `sk-...`)
6. **Важно:** Сохраните ключ сразу - он больше не будет показан!

## Шаг 2: Настройка в Vercel

1. Зайдите на https://vercel.com
2. Откройте ваш проект
3. Перейдите в **Settings** → **Environment Variables**
4. Добавьте переменную:
   - Key: `OPENAI_API_KEY`
   - Value: ваш ключ из OpenAI (начинается с `sk-...`)
5. Нажмите **"Save"**
6. **Передеплойте проект** (Redeploy)

## Шаг 3: Проверка

1. Отправьте сообщение боту в Telegram
2. Бот должен:
   - Найти источники через Google Search API
   - Сравнить их с исходным текстом через OpenAI GPT-4o-mini
   - Показать топ-3 источника с оценкой релевантности

## Используемая модель

- **Модель:** `gpt-4o-mini`
- **Температура:** 0.3 (для более детерминированных результатов)
- **Формат ответа:** JSON

## Лимиты и стоимость

- **Бесплатно:** $5 кредитов при регистрации
- **Платно:** от $0.15 за 1M входных токенов (gpt-4o-mini)
- Примерная стоимость одного запроса: ~$0.001-0.002

## Что делает AI:

1. Сравнивает исходный текст с найденными источниками
2. Оценивает релевантность каждого источника (0-100%)
3. Определяет уверенность (high/medium/low)
4. Дает краткое объяснение на русском языке

## Если OpenAI API не настроен:

Бот будет использовать fallback - показывать первые 3 результата без AI оценки.

