# Настройка Google Custom Search API

## Пошаговая инструкция

### Шаг 1: Создание проекта в Google Cloud

1. Перейдите на https://console.cloud.google.com
2. Войдите в свой Google аккаунт
3. Нажмите на выпадающий список проектов вверху
4. Нажмите **"Новый проект"** (New Project)
5. Введите название проекта (например: "FindOrigin Bot")
6. Нажмите **"Создать"**

### Шаг 2: Включение Custom Search API

1. В меню слева выберите **"APIs & Services"** → **"Library"**
2. В поиске введите **"Custom Search API"**
3. Нажмите на **"Custom Search API"**
4. Нажмите кнопку **"Enable"** (Включить)

### Шаг 3: Создание API ключа

1. В меню слева выберите **"APIs & Services"** → **"Credentials"**
2. Нажмите **"Create Credentials"** → **"API Key"**
3. Скопируйте созданный API ключ (он будет вида: `AIzaSy...`)
4. **Важно:** Нажмите **"Restrict Key"** для безопасности:
   - В разделе **"API restrictions"** выберите **"Restrict key"**
   - Выберите **"Custom Search API"**
   - Нажмите **"Save"**

### Шаг 4: Создание поисковой системы

1. Перейдите на https://cse.google.com/cse/all
2. Нажмите **"Add"** (Добавить)
3. Введите:
   - **Sites to search:** `*` (звездочка - искать везде)
   - **Name:** FindOrigin Search (или любое имя)
4. Нажмите **"Create"**
5. После создания нажмите на созданную поисковую систему
6. Перейдите в **"Setup"** → **"Basics"**
7. Найдите **"Search engine ID"** (он будет вида: `017576662512468239146:omuauf_lfve`)
8. Скопируйте этот ID

### Шаг 5: Настройка в Vercel

1. Зайдите в ваш проект на Vercel
2. Перейдите в **Settings** → **Environment Variables**
3. Добавьте две переменные:
   - `GOOGLE_API_KEY` = ваш API ключ из шага 3
   - `GOOGLE_SEARCH_ENGINE_ID` = ваш Search engine ID из шага 4
4. Нажмите **"Save"**
5. **Важно:** Передеплойте проект (Redeploy)

### Шаг 6: Тестирование

1. Отправьте боту сообщение в Telegram
2. Бот должен найти источники и показать ссылки

## Лимиты Google Custom Search API

- **Бесплатно:** 100 запросов в день
- Для большего количества нужно платить

## Альтернативы

Если лимит Google недостаточен, можно использовать:

### Bing Search API
- 1000 запросов в месяц бесплатно
- Инструкция: https://portal.azure.com

### SerpAPI
- 100 запросов бесплатно
- Инструкция: https://serpapi.com

## Устранение проблем

### Ошибка "API key not valid"
- Проверьте правильность API ключа
- Убедитесь, что Custom Search API включен
- Проверьте ограничения ключа

### Ошибка "Search engine ID not valid"
- Проверьте правильность Search engine ID
- Убедитесь, что поисковая система создана

### Не находит источники
- Проверьте, что переменные окружения добавлены в Vercel
- Убедитесь, что проект передеплоен после добавления переменных
- Проверьте логи на Vercel

