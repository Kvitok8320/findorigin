# –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ—Å–ª–µ —ç—Ç–∞–ø–æ–≤ 1-6

## ‚úÖ –ß—Ç–æ –î–û–õ–ñ–ù–û —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:

### 1. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **URL:** http://localhost:3000
- **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
  - –§–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞
  - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ `/api/test-analyze`
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞

### 2. API Endpoint `/api/test-analyze`
- **–ú–µ—Ç–æ–¥:** POST
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç
  - –û—á–∏—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç (–∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞—Ç—ã, —á–∏—Å–ª–∞, –∏–º–µ–Ω–∞, –∫–ª—é—á–µ–≤—ã–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
  - –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  - –ü—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–∏—Å–∫–æ–≤—ã–π API)
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### 3. –§—É–Ω–∫—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞ (–≠—Ç–∞–ø 5)
- **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
  - ‚úÖ –í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
  - ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç (—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã)
  - ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–∏—Å–µ–ª –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–º–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö
  - ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
  - ‚úÖ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 4. –§—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ (–≠—Ç–∞–ø 3, 4)
- **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
  - ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Telegram update
  - ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ chat.id –∏ text
  - ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤–≤–æ–¥–∞ (—Ç–µ–∫—Å—Ç/—Å—Å—ã–ª–∫–∞)
  - ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ –Ω–∞ Telegram-–ø–æ—Å—Ç—ã (—Ñ–æ—Ä–º–∞—Ç: t.me/channel/123)
  - ‚úÖ –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 5. –§—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–≠—Ç–∞–ø 6)
- **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
  - ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–æ –¥–æ–º–µ–Ω—É
  - ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ —Ç–∏–ø–∞–º
  - ‚úÖ –°–±–æ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
  - ‚ö†Ô∏è **–ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–∏—Å–∫–æ–≤—ã–π API

### 6. –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API (–≠—Ç–∞–ø 2)
- **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞: `npm run test-bot`
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook: `npm run check-webhook`
  - ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook: `npm run set-webhook`
  - ‚ö†Ô∏è **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π URL (ngrok –∏–ª–∏ Vercel)

## ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:

### 1. Webhook –æ—Ç Telegram
- **–ü–æ—á–µ–º—É:** Telegram –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ `localhost`
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok –∏–ª–∏ –¥–µ–ø–ª–æ–π –Ω–∞ Vercel

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç Telegram –Ω–∞–ø—Ä—è–º—É—é
- **–ü–æ—á–µ–º—É:** –ù–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL –¥–ª—è webhook
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok –∏–ª–∏ –¥–µ–ø–ª–æ–π –Ω–∞ Vercel

### 3. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ—Ç—É –≤ Telegram
- **–ü–æ—á–µ–º—É:** –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–π URL –¥–ª—è webhook
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok –∏–ª–∏ –¥–µ–ø–ª–æ–π –Ω–∞ Vercel

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:

### –¢–µ—Å—Ç 1: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm run dev`
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
3. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–í 2024 –≥–æ–¥—É –±—ã–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ 1000 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π. –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ —Å—Ç–∞–ª –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–º.")
4. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞
   - –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞—Ç—ã: ["2024"]
   - –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞: ["1000"]
   - –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞: ["–ò–≤–∞–Ω", "–ü–µ—Ç—Ä–æ–≤"]
   - –ö–ª—é—á–µ–≤—ã–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
   - –ü–æ–∏—Å–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –µ—Å–ª–∏ API –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### –¢–µ—Å—Ç 2: –ü–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ API

```bash
curl -X POST http://localhost:3000/api/test-analyze \
  -H "Content-Type: application/json" \
  -d "{\"text\": \"–í 2024 –≥–æ–¥—É –±—ã–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ 1000 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π\"}"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

```bash
npm run test-bot
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ

### –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Å—ã–ª–æ–∫

–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤–≤–µ–¥–∏—Ç–µ: `https://t.me/channel/123`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- `isLink: true` –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
- –ü–∞—Ä—Å–∏–Ω–≥ channel –∏ messageId

## üìã –ß–µ–∫–ª–∏—Å—Ç: —á—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

- [x] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è: `npm run dev`
- [x] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω: http://localhost:3000
- [x] –§–æ—Ä–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç
- [x] `/api/test-analyze` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–¥–∞—Ç—ã, —á–∏—Å–ª–∞, –∏–º–µ–Ω–∞)
- [x] –ü–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ–∏—Å–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω API)
- [ ] Webhook —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–ª—å–∫–æ —Å ngrok/Vercel)
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram (—Ç–æ–ª—å–∫–æ —Å ngrok/Vercel)

## üéØ –ò—Ç–æ–≥: —á—Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–∞–ø–æ–≤ 1-6

**–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:**

1. ‚úÖ **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç, —á–∏—Å–µ–ª, –∏–º–µ–Ω, –∫–ª—é—á–µ–≤—ã—Ö —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

2. ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Telegram update
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤–≤–æ–¥–∞
   - –ü–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ –Ω–∞ Telegram-–ø–æ—Å—Ç—ã

3. ‚úÖ **–û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ Markdown/HTML

4. ‚ö†Ô∏è **–ü–æ–∏—Å–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ
   - –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ù–æ –Ω—É–∂–µ–Ω –ø–æ–∏—Å–∫–æ–≤—ã–π API –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

5. ‚ùå **Webhook –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–π URL (ngrok –∏–ª–∏ Vercel)

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `npm run dev`
2. –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000
3. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   - –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–¥–∞—Ç—ã, —á–∏—Å–ª–∞, –∏–º–µ–Ω–∞)
   - –ö–ª—é—á–µ–≤—ã–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

–ï—Å–ª–∏ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç - —ç—Ç–∞–ø—ã 1-6 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ

