# Проблема: Google API запрос зависает на Vercel

## Симптомы:

Логи показывают:
```
[GOOGLE_SEARCH] Sending fetch request...
```

Но после этого нет никаких логов - ни успеха, ни ошибки, ни таймаута. Запрос просто зависает.

## Причины:

1. **Vercel прерывает выполнение** - после возврата ответа Vercel может прервать асинхронную функцию до завершения fetch запроса
2. **Проблемы с сетью** - Vercel может иметь проблемы с подключением к Google API
3. **Google API не отвечает** - редко, но возможно

## Решения:

### Решение 1: Использовать другой поисковый API

Если Google API не работает на Vercel, можно использовать:

1. **Bing Search API** (1000 запросов/месяц бесплатно)
   - Более стабильный на Vercel
   - Проще настройка

2. **SerpAPI** (100 запросов бесплатно)
   - Работает через прокси
   - Более надежный

### Решение 2: Использовать Vercel Edge Functions

Edge Functions могут иметь лучшую поддержку внешних запросов.

### Решение 3: Использовать внешний сервис

Можно использовать внешний сервис (например, Cloudflare Workers) для проксирования запросов к Google API.

### Решение 4: Проверить настройки Vercel

1. Проверьте, нет ли ограничений на исходящие запросы
2. Проверьте настройки firewall
3. Попробуйте использовать другой регион для деплоя

## Временное решение:

Пока проблема не решена, бот будет показывать сообщение об ошибке, если Google API не настроен или не работает.

## Рекомендация:

Попробуйте использовать **Bing Search API** вместо Google - он обычно работает более стабильно на Vercel.

